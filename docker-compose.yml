services:
  datamigration:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: datamigration-app
    ports:
      - "5000:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Production
      - ASPNETCORE_URLS=http://+:8080
      # Connection Strings - Update these with your actual connection strings
      - ConnectionStrings__SqlServer=Server=192.168.3.250,1433;Database=predebug;User Id=qa;Password=admin@123;TrustServerCertificate=True;
      - ConnectionStrings__PostgreSql=Host=navikaran.cpai22qoqeyo.ap-south-1.rds.amazonaws.com;Database=navikaran;Username=postgres;Password=3K:]NsC2sCY>e279>dTmzo$$iTf:8;Include Error Detail=true;
    restart: unless-stopped
    networks:
      - migration-network
    volumes:
      - ./logs:/app/logs

networks:
  migration-network:
    driver: bridge